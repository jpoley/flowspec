---
id: task-220
title: Resolve Relationship with task-198 Unified Vulnerability Scanner
status: Done
assignee:
  - '@muckross'
created_date: '2025-12-03 01:58'
updated_date: '2025-12-04 17:06'
labels:
  - 'workflow:Planned'
  - security
dependencies: []
priority: high
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
Determine integration strategy between /jpspec:security commands and task-198 (Trivy + Snyk scanner design). Decide if task-198 should be superseded, integrated, or remain separate.
<!-- SECTION:DESCRIPTION:END -->

## Acceptance Criteria
<!-- AC:BEGIN -->
- [x] #1 Review task-198 design document (once created)
- [x] #2 Identify overlaps and gaps between /jpspec:security and Trivy+Snyk
- [x] #3 Decision: Supersede, integrate, or keep separate with clear boundaries
- [x] #4 Update task-198 or this PRD based on decision
- [x] #5 Document decision in ADR if architectural
<!-- AC:END -->

## Implementation Plan

<!-- SECTION:PLAN:BEGIN -->
## CORRECTED Implementation Plan

**CRITICAL: Analysis and integration, no code.**

### Phase 1: Review task-198
- Read task-198 requirements
- Identify scope: unified vulnerability scanner
- Determine overlaps with muckross security
- Document differences

### Phase 2: Integration Analysis
- Create `docs/architecture/scanner-integration.md`
  - Muckross security = AI-powered triage + fix generation
  - task-198 scanner = Multi-tool orchestration
  - Data flow: task-198 scanner → findings.json → muckross triage
  - Interface definition: JSON schema compatibility

### Phase 3: Integration Strategy
- Muckross consumes task-198 outputs
- No duplication of scanner orchestration
- Muckross adds AI capabilities on top
- Clear separation of concerns:
  - task-198: Scanning
  - Muckross: Triage + Fixing + Reporting

### Phase 4: Coordination Plan
- Document shared schemas
- Define handoff points
- Plan for future enhancements
- Ensure both systems can evolve independently

### Success Criteria
- [ ] task-198 reviewed and understood
- [ ] Integration strategy documented
- [ ] Clear separation of concerns
- [ ] No conflicting implementations
- [ ] **ZERO CODE CONFLICTS**

### Files Created
- `docs/architecture/scanner-integration.md`
- Integration notes in task-198
- Updated muckross architecture docs
<!-- SECTION:PLAN:END -->

## Implementation Notes

<!-- SECTION:NOTES:BEGIN -->
## Resolution Summary

**Finding:** Task-198 was repurposed and is NOT about unified vulnerability scanning.

- Task-198 = "Define Event Model Schema for jp-spec-kit Hooks" (completed)
- No conflict exists with /jpspec:security commands
- ADR-009 documents this resolution

## Key Decisions (from ADR-009)

1. **No supersession needed** - task-198 was never about security scanning
2. **Native implementation is correct** - ADR-005 through ADR-008 provide unified scanning
3. **Scanner roadmap confirmed:**
   - Semgrep (SAST) - Implemented
   - CodeQL (task-225) - Planned
   - Trivy/Snyk (SCA) - Future
   - Playwright DAST (task-222) - Planned

## Files Referenced
- docs/adr/ADR-009-task-198-scanner-resolution.md (existing)
- docs/adr/ADR-005-scanner-orchestration-pattern.md
- docs/adr/ADR-006-ai-triage-engine-design.md
- docs/adr/ADR-007-unified-security-finding-format.md

## Outcome
Task-220 was based on incorrect assumptions. ADR-009 already resolved this.
All ACs satisfied - no code changes required.
<!-- SECTION:NOTES:END -->
